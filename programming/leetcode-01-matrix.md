# LeetCode:01-matrix

[https://leetcode.com/problems/01-matrix/submissions/](https://leetcode.com/problems/01-matrix/submissions/)

è¯´æ¥æƒ­æ„§mediumçš„é¢˜åšäº†ä¸€ä¸‹åˆï¼Œä¸è¿‡ä¸­é—´åˆå¤ä¹ å›¾çš„éå†ä»¥åŠåŠ¨è§„çš„ä¸€åˆ‡é—®é¢˜ä¹Ÿç®—æœ‰æ‰€æ”¶è·ï¼Œæ€»ç»“ä¸‹ï¼Œé¢˜ç›®è¦æ±‚æ±‚ä¸€ä¸ªçŸ©é˜µä¸­æ¯ä¸ª1ç¦»0çš„æœ€è¿‘è·ç¦»ï¼Œæ–¹å‘å¯é€‰ä¸ºä¸Šä¸‹å·¦å³ï¼ˆæ³¨æ„å¯ä»¥æ‹å¼¯ã€‚ã€‚æ¯”å¦‚å·¦ä¸Šå·¦ä¸‹ç­‰ï¼Œç¬¬ä¸€æ¬¡å‚»å‘µå‘µåªè€ƒè™‘äº†ä¸Šä¸‹å·¦å³çš„è·ç¦»ï¼‰

## DP

```java
public int[][] updateMatrix(int[][] matrix) {
    int m = matrix.length, n = matrix[0].length;
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            matrix[i][j] = matrix[i][j] == 0 ? 0 : 10000;
        }
    }

    // up solution
    for (int j = 0; j < n; j++)  {
        for (int i = 0; i < m; i++){
            if (i - 1 >= 0) {
                matrix[i][j] = Math.min(matrix[i][j], matrix[i - 1][j] + 1);
            }
        }
    }

    // down solution
    for (int i = m - 1; i >= 0; i--) {
        for (int j = n - 1; j >= 0; j--) {
            if (i + 1 < m) {
                matrix[i][j] = Math.min(matrix[i][j], matrix[i + 1][j] + 1);
            }
        }
    }
    //left solution
    for (int j = 0; j < n; j++) {
        for (int i = 0; i < m; i++) {
            if (j - 1 >= 0) {
                matrix[i][j] = Math.min(matrix[i][j], matrix[i][j - 1] + 1);
            }
        }
    }
    //right solution
    for (int j = n - 1; j >= 0; j--) {
        for (int i = m - 1; i >= 0; i--) {
            if (j + 1 < n) {
                matrix[i][j] = Math.min(matrix[i][j], matrix[i][j + 1] + 1);
            }
        }
    }
    return matrix;
}
```

çœ‹ç­”æ¡ˆå­¦ä¼šçš„ï¼ˆç¡®å®ä¸ä¼šï¼‰ï¼Œé¡ºå¤ä¹ äº†ä¸‹åŠ¨å½’çš„çŸ¥è¯†ï¼Œå¯¹äºæ¯ä¸ªé0ç‚¹æ¥è¯´ï¼Œ0åˆ°å®ƒçš„æœ€çŸ­è·ç¦»ç­‰äº1+ä¸Šä¸‹å·¦å³çš„å››ä¸ªç‚¹ä¸­åˆ°0æœ€çŸ­çš„é‚£ä¸ªè·ç¦»ï¼ŒDPçš„æ€æƒ³åœ¨äºå®æ—¶æ ¹æ®ä¸Šä¸€ä¸ªçŠ¶æ€æ›´æ–°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼ˆè¿™é‡Œçš„çŠ¶æ€å°±æ˜¯æŒ‡ç‚¹åˆ°0çš„è·ç¦»ï¼‰ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å››æ¬¡æ›´æ–°ï¼Œåˆ†åˆ«æ˜¯å½“æœ€çŸ­åˆ°0è·¯å¾„åˆ†åˆ«æ¥è‡ªä¸Šä¸‹å·¦å³çš„æƒ…å†µï¼ˆå…¶å®å¯ä»¥ç®€åŒ–åˆ°ä¸¤æ¬¡ï¼Œå·¦ä¸ŠğŸ‘‰å³ä¸‹æˆ–å³ä¸ŠğŸ‘‰å·¦ä¸‹ï¼Œdpè¦ä¿è¯æ›´æ–°é¡ºåºçš„æ ¹æ®æ˜¯æ¥è‡ªè¯¥è½®æ›´æ–°é¡ºåºä¸‹å·²ç»æ›´æ–°è¿‡çš„ç‚¹ï¼Œè¿™æ ·æ‰æ›´æ–°çš„æ„ä¹‰ï¼‰ã€‚

## BFS

```java
public int[][] updateMatrix(int[][] matrix) {
    // é¦–å…ˆå°†æ‰€æœ‰çš„ 0 éƒ½å…¥é˜Ÿï¼Œå¹¶ä¸”å°† 1 çš„ä½ç½®è®¾ç½®æˆ -1ï¼Œè¡¨ç¤ºè¯¥ä½ç½®æ˜¯ æœªè¢«è®¿é—®è¿‡çš„ 1
    Queue<int[]> queue = new LinkedList<>();
    int m = matrix.length, n = matrix[0].length;
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < n; j++) {
            if (matrix[i][j] == 0) {
                queue.offer(new int[] {i, j});
            } else {
                matrix[i][j] = -1;
            }
        }
    }

    int[] dx = new int[] {-1, 1, 0, 0};
    int[] dy = new int[] {0, 0, -1, 1};
    while (!queue.isEmpty()) {
        int[] point = queue.poll();
        int x = point[0], y = point[1];
        for (int i = 0; i < 4; i++) {
            int newX = x + dx[i];
            int newY = y + dy[i];
            // å¦‚æœå››é‚»åŸŸçš„ç‚¹æ˜¯ -1ï¼Œè¡¨ç¤ºè¿™ä¸ªç‚¹æ˜¯æœªè¢«è®¿é—®è¿‡çš„ 1
            // æ‰€ä»¥è¿™ä¸ªç‚¹åˆ° 0 çš„è·ç¦»å°±å¯ä»¥æ›´æ–°æˆ matrix[x][y] + 1ã€‚
            if (newX >= 0 && newX < m && newY >= 0 && newY < n
                    && matrix[newX][newY] == -1) {
                matrix[newX][newY] = matrix[x][y] + 1;
                queue.offer(new int[] {newX, newY});
            }
        }
    }

    return matrix;
}
```

è¿™é‡Œç”¨äº†queueå®ç°å›¾çš„BFSï¼ŒåŸç‚¹æ˜¯æ‰€æœ‰çš„0ç‚¹ï¼Œå°†å…¶indexæ”¾è¿›é˜Ÿåˆ—ä¸­ï¼Œå°†æ‰€æœ‰çš„1ç‚¹æ ‡è®°ä¸ºä¸ºè®¿é—®çš„ç‚¹ï¼ˆ-1ï¼‰ä¸‹é¢åˆ†æä¸€ä¸‹è¯¦ç»†è¿‡ç¨‹

```java
int[] dx = new int[] {-1, 1, 0, 0};
int[] dy = new int[] {0, 0, -1, 1};
```

ğŸ‘†è¿™ä¸ªæ˜¯æ‰©æ•£çš„å‚æ•°ï¼Œä¸‹é¢çš„forå¾ªç¯ä¸­newXå’ŒnewYåˆ†åˆ«åŠ dx\[i\]å’Œdy\[i\]è¡¨ç¤ºæ‰©æ•£çš„æ–¹å‘ä¾æ¬¡ä¸ºå‘ä¸Šå‘ä¸‹å‘å·¦å‘å³

```java
if (newX >= 0 && newX < m && newY >= 0 && newY < n
                    && matrix[newX][newY] == -1)
```

è¿™ä¸ªåˆ¤å‰é¢å‡ ä¸ªéƒ½æ˜¯åˆ¤æ–­è¾¹ç•Œé˜²æ­¢è¶Šç•Œï¼Œæœ€åä¸€ä¸ªæ˜¯åˆ¤æ–­æ˜¯å¦è¯¥ç‚¹ä¸ºæœªè®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼ˆ1èŠ‚ç‚¹ï¼‰ï¼Œå¦‚æœæ˜¯çš„è¯æ›´æ–°åˆ°1çš„è·ç¦»ä¸ºè¯¥èŠ‚ç‚¹åˆ°0çš„è·ç¦»ï¼ˆå…¶å®å°±æ˜¯maxtrix\[x\]\[y\]ï¼Œå¯¹äº0èŠ‚ç‚¹æ¥è¯´å°±æ˜¯0ï¼Œå¯¹äºè®¿é—®è¿‡çš„1èŠ‚ç‚¹çš„è¯æ˜¯è¯¥1èŠ‚ç‚¹åˆ°0çš„æœ€è¿‘è·ç¦»ï¼‰ï¼Œä¹‹åå°†è¯¥1èŠ‚ç‚¹æ’è¿›é˜Ÿåˆ—ï¼ˆå¦åˆ™å°±åªèƒ½æ›´æ–°0èŠ‚adjacentçš„1èŠ‚ç‚¹ï¼‰



å…¶å®BFSè¿™é‡Œæ„Ÿè§‰å¤šå°‘ä¹Ÿæœ‰ç‚¹DPçš„æ„æ€ï¼Œåªä¸è¿‡æ›´æ–°çš„é¡ºåºæ˜¯ä»¥0èŠ‚ç‚¹ä¸ºä¸­å¿ƒï¼Œ1ä¸ªèŠ‚ç‚¹é•¿åº¦ä¸ºå•ä½è¿›è¡Œæ›´æ–°çš„

